<div class="flex flex-col">

    <aside class="text-skin-art order-2 lg:order-none">
        <app-curriculum-sidebar></app-curriculum-sidebar>
    </aside>

    <main class="py-5 text-skin-art">
        <div class="lesson_content site-container">
            <div class="progress_bar mb-5 mx-auto">
                <progress id="bluebar" class="progress w-full ld:max-w-[500px] h-10" value="40" max="100"></progress>
                <!-- <mat-progress-bar class="" mode="determinate" value="40"></mat-progress-bar> -->
            </div>

            <div class="vimeo_video shadow-lg rounded-sm overflow-hidden mt-6 lg:mt-8 mx-auto">
                <div class="vid_wrapper w-full h-full">
                    <ng-container *ngIf="lesson">
                        <iframe [src]="lessonVideo$ | async | vimeoUrl" class="" frameborder="0" webkitallowfullscreen
                            mozallowfullscreen allowfullscreen width="100%" height="100%"></iframe>
                    </ng-container>

                    <ng-container *ngIf="loading" class="articleCoverImageSkeletonLoader">
                        <ngx-skeleton-loader count="1" appearance="line" [theme]="{ 
                                                                        'height.%': 100,
                                                                        'width.%': 100
                                                                    }">
                        </ngx-skeleton-loader>
                    </ng-container>
                </div>
            </div>

            <div class="course_content p-5">
                <div *ngIf="lesson" class="markdown-content mt-2 lg:mt-8">
                    <div
                        class="lesson_name mb-6 lg:mb-10 text-3xl w-full font-black text-primary-600 tracking-tighter sm:text-3xl sm:leading-10 md:text-4xl lg:text-5xl lg:leading-[3rem] xl:leading-[3.5rem]">
                        <h1>{{lesson.name}}</h1>
                    </div>
                    <markdown
                        class="prose lg:prose-xl prose-p:text-lg lg:prose-p:text-xl max-w-none text-secondary prose-headings:font-bold prose-headings:text-secondary prose-a:text-primary-500 prose-code:bg-gray-900 prose-code:rounded-md prose-code:text-accent-300 prose-code:font-normal prose-code:before:hidden prose-code:after:hidden prose-ul:list-disc prose-ol:list-disc"
                        [data]="lesson.content">
                    </markdown>
                </div>

                <ng-container *ngIf="loading" class="articleContentSkeletonLoader">
                    <ngx-skeleton-loader class="block mt-10" count="10" appearance="line" [theme]="{ 
                                                        'border-radius': '5px',
                                                            'height.px': 20,
                                                            'width.%': 100
                                                        }">
                    </ngx-skeleton-loader>
                </ng-container>
            </div>

            <div class="course_ressources_wrapper mb-5">
                <label for="course_ressourses"
                    class="block text-base font-semibold leading-5 text-skin-base lg:mt-14 ml-3">
                    Ressources
                </label>

                <div
                    class="course_ressources w-full border-2 border-dashed rounded p-5 flex  justify-center lg:justify-start  flex-wrap mt-[-10px]">

                    <a target="blank" href="https://google.com"
                        class="group flex flex-col items-center justify-center hover:bg-base-100 p-5 rounded">
                        <svg stroke="currentColor" fill="none" viewBox="0 0 48 48"
                            class="mx-auto h-8 w-8 group-hover:text-primary-500">
                            <path
                                d="M28 8H12a4 4 0 00-4 4v20m32-12v8m0 0v8a4 4 0 01-4 4H12a4 4 0 01-4-4v-4m32-4l-3.172-3.172a4 4 0 00-5.656 0L28 28M8 32l9.172-9.172a4 4 0 015.656 0L28 28m0 0l4 4m4-24h8m-4-4v8m-12 4h.02"
                                stroke-width="2" stroke-linecap="round" stroke-linejoin="round"></path>
                        </svg>
                        <span class="group-hover:text-primary-500">diagramme_de_classe.png</span>
                    </a>

                    <a target="blank" href="https://google.com"
                        class="group flex flex-col items-center justify-center hover:bg-base-100 p-5 rounded">

                        <svg class="mx-auto h-8 w-8 group-hover:text-primary-500" xmlns="http://www.w3.org/2000/svg"
                            viewBox="0 0 512 512">
                            <path
                                d="M416 221.25V416a48 48 0 01-48 48H144a48 48 0 01-48-48V96a48 48 0 0148-48h98.75a32 32 0 0122.62 9.37l141.26 141.26a32 32 0 019.37 22.62z"
                                fill="none" stroke="currentColor" stroke-linejoin="round" stroke-width="20" />
                            <path d="M256 56v120a32 32 0 0032 32h120" fill="none" stroke="currentColor"
                                stroke-linecap="round" stroke-linejoin="round" stroke-width="20" />
                        </svg>

                        <span class="group-hover:text-primary-500">chahier_de_charges.pdf</span>
                    </a>
                </div>
            </div>

        </div>
    </main>

</div>